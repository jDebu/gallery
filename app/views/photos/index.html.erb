<div class="container">
 <h1>Photo Gallery</h1>
 <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4" data-controller="carousel">
   <% @photos.each_with_index do |image, index| %>
     <div class="col">
       <div class="card" data-bs-toggle="modal" data-bs-target="#imageModal" data-index="<%= index %>" data-action="click->carousel#selectCard">
         <img src="<%= image.url %>" class="card-img-top" alt="Image">
       </div>
     </div>
   <% end %>
 </div>
</div>

<div class="modal fade" id="imageModal" tabindex="-1" role="dialog" aria-labelledby="imageModalLabel" aria-hidden="true">
 <div class="modal-dialog modal-xl">
   <div class="modal-content">
     <div class="modal-header d-flex justify-content-between">
       <div class="d-flex align-items-center">
         <h5 class="modal-title" id="imageModalLabel"> Modal</h5>
       </div>
       <div>
         <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
       </div>
     </div>
     <div class="modal-body">
       <div id="imageCarousel" class="carousel slide" data-bs-ride="carousel">
         <div class="carousel-inner">
           <% @photos.each_with_index do |image, index| %>
             <div class="carousel-item <%= 'active' if index.zero? %>">
               <img src="<%= image.url %>" class="d-block w-100" alt="Image">
             </div>
           <% end %>
         </div>
         <button class="carousel-control-prev" type="button" data-bs-target="#imageCarousel" data-bs-slide="prev">
           <span class="carousel-control-prev-icon" aria-hidden="true"></span>
           <span class="visually-hidden">Previous</span>
         </button>
         <button class="carousel-control-next" type="button" data-bs-target="#imageCarousel" data-bs-slide="next">
           <span class="carousel-control-next-icon" aria-hidden="true"></span>
           <span class="visually-hidden">Next</span>
         </button>
       </div>
     </div>
   </div>
 </div>
</div>
